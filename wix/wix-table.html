<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://use.fontawesome.com/c47bc38e87.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
   
  </head>

  <body>
    <style>
        @import url(https://unpkg.com/@webpixels/css@1.1.5/dist/index.css);
        @import url("https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.4.0/font/bootstrap-icons.min.css");
      </style>
    <div class="table-responsive">
      <table class="table table-hover table-nowrap">
        <thead class="thead-light">
          <tr>
            <th scope="col">Plan Name</th>
            <th scope="col">Date</th>
            <th scope="col">Amount</th>
            <th scope="col">Status</th>
          </tr>
        </thead>
        <tbody id="table-container"></tbody>
      </table>
    </div>
    <script>
      jQuery(document).ready(function ($) {
        window.onmessage = function (event) {
          if (event.data && Array.isArray(event.data)) {
            let ulContainer = document.getElementById("table-container");
            ulContainer.innerHTML = event.data
              .map((item, idx) =>
                `<tr>
                        <td>
                        <img
                            alt="..."
                            src="https://images.unsplash.com/photo-1502823403499-6ccfcf4fb453?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=3&w=256&h=256&q=80"
                            class="avatar avatar-sm rounded-circle me-2"
                        />
                        <a class="text-heading font-semibold" href="#">${
                          item.planName
                        } </a>
                        </td>
                        <td>${item.date}</td>
                        <td>${"$" + item.basePrice}</td>
                        <td>
                        <span class="badge badge-lg badge-dot">
                            <i class=${item.status === "success" ? "bg-success" : "bg-danger"}></i>${item.status}
                        </span>
                        </td>
                    </tr>`
              )
              .join("\n");
          }
        };

        var event = {
          data: [
            {
              planName: "Basic",
              date: "06/02/2020",
              basePrice: "1000",
              status: "success",
            },
            {
              planName: "Silver",
              date: "06/04/2020",
              basePrice: "1000",
              status: "failed",
            },
            {
              planName: "Gold",
              date: "06/04/2020",
              basePrice: "1000",
              status: "failed",
            },
            {
              planName: "PLatinum",
              date: "06/04/2020",
              basePrice: "1000",
              status: "success",
            },
          ],
        };
        window.onmessage(event);
      });
    </script>
  </body>
</html>
